<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Last Look - Coming Soon</title>

  <!-- CSS & Font -->
  <link rel="stylesheet" href="style.css">
  <link href="https://fonts.googleapis.com/css2?family=Epilogue:wght@700&display=swap" rel="stylesheet">
</head>
<body>
  <header>
    <h1>LAST<br>LOOK</h1>
  </header>

  <main class="container">
    <section class="signup">
      <form id="waitlistForm" onsubmit="handleSubmit(event)">
        <h2>Join our waitlist. It's the only time you'll wait.</h2>
        <label for="email" class="sr-only">Enter your email address</label>
        <input type="email" name="entry.1395615317" id="email" placeholder="Enter your email address" required />

        <button type="submit">Sign up</button>

        <p class="subtext">Have a favourite brand? let us know so we can tell them to get onboard</p>
        <label for="brand" class="sr-only">Your favourite brand</label>
        <input type="text" name="brand" id="brand" placeholder="Your favourite brand" />
      </form>
    </section>
  </main>

  <!-- Silent form target -->
  <iframe name="hidden_iframe" id="hidden_iframe" style="display:none;"></iframe>
  <script>
    async function handleSubmit(event) {
      event.preventDefault();
      
      const form = event.target;
      const email = form.querySelector('#email').value;
      const brand = form.querySelector('#brand').value;
      
      const formData = new FormData();
      formData.append('entry.1395615317', email);
      
      try {
        await fetch('https://docs.google.com/forms/d/e/1FAIpQLSf2A7cO_fn6peFU8M-OrQ6ZbhsFbzYLHCSBOHMFWkc1hTVhgQ/formResponse', {
          method: 'POST',
          mode: 'no-cors',
          body: formData
        });
        
        alert("Thanks! You're on the waitlist.");
        form.reset();
      } catch (error) {
        console.error('Error submitting form:', error);
        alert('There was an error submitting the form. Please try again.');
      }
    }
  </script>
</body>
</html>
